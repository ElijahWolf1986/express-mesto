{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Utils.js","utils/Api.js","components/App.js","serviceWorker.js","index.js","images/header/logo.svg","images/profile/download.jpg"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","card","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","link","name","onCardClick","type","title","onCardLike","length","Main","onEditAvatar","avatar","defaultAvatar","onEditProfile","about","onAddPlace","cards","map","item","id","key","selectedCard","Footer","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","method","noValidate","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","value","onChange","target","minLength","maxLength","required","placeholder","EditAvatarPopup","inputAvatar","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","configApi","url","headers","Authorization","myApi","this","_url","_headers","res","ok","json","console","log","Promise","reject","statusText","err","message","fetch","then","_handleResponse","catch","_handleResponseError","newUserInfo","body","JSON","stringify","newCard","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","setSelectedCard","setCurrentUser","setCards","closeAllPopups","undefined","getInitialCards","getUserInfo","Provider","delLike","newCards","c","setLike","deleteCard","filter","setUserInfo","setNewCard","setAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","module","exports"],"mappings":"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","file":"static/js/main.354e65ae.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/header/logo.svg';\n\nfunction Header() {\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"логотип_сайта\" className=\"header__logo\" />\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    \n    const card = props.card;\n    const isOwn = card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (\n        `card__trash ${isOwn && 'card__trash_type_visible'}`\n    );\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = (\n        `card__like ${isLiked && 'card__like_state_active'}`\n    );\n    function handleClick() {\n        props.onCardClick(card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(card);\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(card);\n    }\n\n    return (\n        <div className=\"card\">\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n            <img src={card.link} alt={card.name} className=\"card__img\" onClick={handleClick} />\n            <div className=\"card__place\">\n                <h3 className=\"card__title\">{card.name}</h3>\n                <div className=\"card__like_group\">\n                    <button type=\"button\" title=\"\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <p className=\"card__like_counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card;","import React from 'react';\nimport defaultAvatar from '../images/profile/download.jpg';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__wrapper\">\n                    <div className=\"profile__edit\" onClick={props.onEditAvatar}>\n                        <img src={currentUser.avatar || defaultAvatar} alt=\"аватар\" className=\"profile__avatar\" />\n                    </div>\n                    <div className=\"profile__data-container\">\n                        <div className=\"profile__info\">\n                            <h1 className=\"profile__info-title\">{currentUser.name}</h1>\n                            <button type=\"button\" onClick={props.onEditProfile} className=\"profile__info-edit-button\"></button>\n                        </div>\n                        <p className=\"profile__info-subtitle\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button type=\"button\" onClick={props.onAddPlace} className=\"profile__add-button\"></button>\n            </section>\n            <section className=\"gallery\">\n                {props.cards.map((item, id) => {\n                    return (\n                        <Card card={item} key={id} onCardClick={props.selectedCard} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n                    )\n                })}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;\n\n","import React from 'react';\n\nfunction Footer() {\n    return (\n        <section className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </section>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup(props) {\n    const selectedCard = props.card;\n    return (\n        <section id='popup-view' className={`popup ${selectedCard && 'popup_state_opened'}`}>\n            <div className=\"popup__overlay\" onClick={props.onClose}> </div>\n            <div className=\"popup__container-view\">\n                <button type=\"button\" name='closePlace' className=\"popup__close-icon\" onClick={props.onClose}></button>\n                <img src={selectedCard ? selectedCard.link : '#'} alt={selectedCard ? selectedCard.name : 'none'} className=\"popup__img-view\" />\n                <h2 className=\"popup__title-view\">{selectedCard ? selectedCard.name : ''}</h2>\n            </div>\n        </section>\n    );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <section id={props.id} className={`popup ${props.isOpen && 'popup_state_opened'}`}>\n            <div className=\"popup__overlay\" onClick={props.onClose}> </div>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-icon\" onClick={props.onClose}></button>\n                <form name={props.name} onSubmit={props.onSubmit} method=\"POST\" className=\"popup__form\" noValidate>\n                    <h2 className=\"popup__title\">{props.title}</h2>\n                    {props.children}\n                </form>\n            </div>\n        </section>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n\n    return (\n        <PopupWithForm id='popup-author' name='popup_author_form' title='Редактировать профиль' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n            <fieldset className=\"popup__form-author-info\">\n                <input id=\"author-input\" type=\"text\" value={name || ''} onChange={handleChangeName} name=\"author\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Введите имя\" className=\"popup__input\" />\n                <span id=\"author-input-error\" className=\"popup__error_visible\"></span>\n                <input id=\"metier-input\" type=\"text\" value={description || ''} onChange={handleChangeDescription} name=\"metier\" minLength=\"2\" maxLength=\"200\" required placeholder=\"Введите род занятий\" className=\"popup__input\" />\n                <span id=\"metier-input-error\" className=\"popup__error_visible\"></span>\n            </fieldset>\n            <button type=\"submit\" className=\"popup__button-save\">Сохранить</button>\n        </PopupWithForm>\n    )\n}\n\n\n\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const inputAvatar = React.useRef(null);\n\n    React.useEffect(() => {\n        inputAvatar.current.value = '';\n    }, [props.isOpen]);\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onUpdateAvatar({\n            avatar: inputAvatar.current.value\n        });\n    }\n\n    return (\n        <PopupWithForm id='popup-avatar' name='popup_avatar' title='Обновите аватар' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"popup__form-author-info\">\n                <input id=\"url-input\" type=\"url\" ref={inputAvatar} name=\"url\" required placeholder=\"Ссылка на аватар\" className=\"popup__input\" />\n                <span id=\"url-input-error\" className=\"popup__error_visible\"></span>\n            </fieldset>\n            <button type=\"submit\" className=\"popup__button-save\">Сохранить</button>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeLink(evt) {\n        setLink(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onAddPlace({\n            name: name,\n            link: link\n        });\n    }\n\n    return (\n        <PopupWithForm id='popup-place' name='popup_place_form' title='Новое место' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"popup__form-author-info\">\n                <input id=\"place-input\" type=\"text\" value={name || ''} onChange={handleChangeName} name=\"place\" minLength=\"1\" maxLength=\"30\" required placeholder=\"Название\" className=\"popup__input\" />\n                <span id=\"place-input-error\" className=\"popup__error_visible\"></span>\n                <input id=\"url-input\" type=\"url\" value={link || ''} onChange={handleChangeLink} name=\"url\" required placeholder=\"Ссылка на картинку\" className=\"popup__input\" />\n                <span id=\"url-input-error\" className=\"popup__error_visible\"></span>\n            </fieldset>\n            <button type=\"submit\" className=\"popup__button-save\">Создать</button>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","\nconst configApi = {\n    url: 'https://mesto.nomoreparties.co/v1/cohort-13',\n    headers: {\n        Authorization: '54672975-eeab-4137-bd8f-7cd077a45ce9',\n        'Content-Type': 'application/json'\n    }\n};\n\nexport default configApi;","import configApi from './Utils.js';\n\nclass Api {\n    constructor({ url, headers = {} }) {\n        this._url = url;\n        this._headers = headers;\n    }\n\n    _handleResponse(res) {\n        if (res.ok) {\n            return res.json();\n        } else {\n            console.log('Ошибка подключения к серверу');\n            return Promise.reject(res.statusText);\n        }\n    }\n\n    _handleResponseError(err) {\n        console.log('Ошибка подключения к серверу');\n        return Promise.reject(err.message);\n    }\n\n    getInitialCards() { \n        return fetch(`${this._url}/cards`, { headers: this._headers })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, { headers: this._headers })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n    setUserInfo(newUserInfo) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: `${newUserInfo.name}`,\n                about: `${newUserInfo.about}`\n            })\n        })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n    setNewCard(newCard) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: `${newCard.name}`,\n                link: `${newCard.link}`\n            })\n        })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n\n    }\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n\n    setLike(id) {\n        return fetch(`${this._url}/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n\n    delLike(id) {\n        return fetch(`${this._url}/cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n\n    setAvatar(avatar) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: `${avatar.avatar}`\n            })\n        })\n            .then(this._handleResponse)\n            .catch(this._handleResponseError)\n    }\n}\n\nconst myApi = new Api(configApi);\n\nexport default myApi;\n\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport myApi from '../utils/Api';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) {\n      myApi.setLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(`Ошибка отправки лайка... ${err}`);\n        })\n    } else {\n      myApi.delLike(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(`Ошибка отправки лайка... ${err}`);\n        })\n    }\n  }\n\n  function handleCardDelete(card) {\n    myApi.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter(c => c._id !== card._id);\n        setCards(newCards);\n      })\n  }\n\n  React.useEffect(() => {\n    myApi.getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(`Ошибка получения данных... ${err}`);\n      })\n  }, []);\n\n  React.useEffect(() => {\n    myApi.getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(`Ошибка получения данных о пользователе... ${err}`);\n      })\n  }, []);\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard(undefined);\n  }\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleUpdateUser(onUpdateUser) {\n    myApi.setUserInfo(onUpdateUser)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  function handleUpdateAvatar(onUpdateAvatar) {\n    myApi.setAvatar(onUpdateAvatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  function handleAddPlaceSubmit(onAddPlace) {\n    myApi.setNewCard(onAddPlace)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n\n        <Main onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} selectedCard={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5Ojf/wAALCAB+AH4BAREA/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAIBAwQFBgf/xAAyEAACAQMCBAMGBQUAAAAAAAAAAQIDBBEFIRITMUEGYZEUIkJRUqEjMmJywTNTcbHh/9oACAEBAAA/AOtAlEkpBgnBOAwQ0GCCGQQAEolIZIlIic6dNZqzjBPvKSRrbrXrSjLhpKVZrZuOy9e5jrxHHmb2z4P3bmRT1+0lUUXGaTW0sdPJmdC8tanDwV4NyWVHO/oXYIaFaIIIJJSGSGSG2Sbk0kt232ON1a99tvJzi3yltBP5GEAExk4yzF4Z1Oh6jG6hyKkpc6C+LG68tjatCtCNEYIJRKHSHSNT4mrujYRpReHWlh/tXX+DlQAAM3Rq3J1OhL3cOXD73mdq0I0I0KxWSh0h0h0jnvFyw7V+UtvQ54AACYrMkvM9CjFRjFLol3FYkkI0KyUOh0WJGi8XRXItp91Nr7f8OYAAAuso8V7bx+dSP+z0GSK2IytismI6HRZE57xdcS/AtuBcP9Xi753WDmwAAHoVZUK0K0McUHxLi6HocZcynGeMcUU8fIViSK5CMmI8SxFkTSeLaKlZUayj70KnDnyaf8pHKAAAW2tLnXNGl9c4x9WeiNJLCWEVyK5FchQiPEsRZES7t43dpVt5vCnHGfl8mcPqdhPTrlUKk4zbipKUehiAAG/8MaY61WN9OSUKU2lHH5njr9zqZFbEkVyFIQ6HRYmWRNN4osFcWvtcHidBbp/FE5AALbWj7RdUaGeHm1Iwzjpl4PQLehTtbeFCisQgsLz8xmVsRiSYjBDJjpjplkWYurvOlXaf9qRwYAZGn1FSv7apJpRhVhJt9kmsnfqalFSi1KLWzXcVsRsSTK2KwQyHTJlOMIuU5KMV1cnhGrr+I7SnNxpwqVcfFHCT9TUanrVe+i6cVyqL6xT3l/lmrAAMuz1G7s9qFaSj9D3j6G0oeJZpYuLdS86bx9mbG31qyuGoqo6cn2qLH36Ga3lZXQVishdDDudVtLdNOoqk18MN/v0NNda3d1m1SfJh+nr6muqVKlR5qTlN/qeRQAAAAAvt7y4tscitKKXbOV6M2dvr9RbXNJSX1Q2ZtKGo2laOY1op94zfC16nM3F5c3OedVk19K2XoY4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//2Q==\""],"sourceRoot":""}